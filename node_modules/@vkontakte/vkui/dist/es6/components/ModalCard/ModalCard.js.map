{"version":3,"sources":["../../../../src/components/ModalCard/ModalCard.js"],"names":["React","Component","PropTypes","Button","HeaderButton","getClassName","classNames","withInsets","Icon24Dismiss","IS_PLATFORM_IOS","isNumeric","baseClassName","ModalCard","event","action","props","actions","currentTarget","dataset","index","persist","insets","icon","title","caption","children","actionsLayout","onClose","bottom","marginBottom","length","map","i","type","onButtonClick","node","string","arrayOf","shape","func","oneOf","isRequired","object"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button/Button';\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassName = getClassName('ModalCard');\n\nclass ModalCard extends Component {\n  static propTypes = {\n    /**\n     * Иконка.\n     *\n     * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n     */\n    icon: PropTypes.node,\n\n    /**\n     * Заголовок карточки\n     */\n    title: PropTypes.string,\n\n    /**\n     * Текст, поясняющий заголовок\n     */\n    caption: PropTypes.string,\n\n    /**\n     * Дополнительное содержимое, например, поле ввода\n     */\n    children: PropTypes.node,\n\n    /**\n     * Список кнопок-действий\n     */\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      action: PropTypes.func,\n      type: PropTypes.oneOf(['secondary', 'primary'])\n    })),\n\n    /**\n     * Тип отображения кнопок: вертикальный или горизонтальный\n     */\n    actionsLayout: PropTypes.oneOf(['vertical', 'horizontal']),\n\n    /**\n     * Будет вызван при закрытии карточки жестом\n     */\n    onClose: PropTypes.func.isRequired,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    actions: [],\n    actionsLayout: 'horizontal',\n    insets: {}\n  };\n\n  onButtonClick = (event) => {\n    const action = this.props.actions[event.currentTarget.dataset.index].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  render () {\n    const { insets, icon, title, caption, children, actions, actionsLayout, onClose } = this.props;\n\n    return (\n      <div className={classNames(baseClassName)}>\n        <div className=\"ModalCard__in\">\n          <div className=\"ModalCard__container\" style={isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null}>\n            {icon && <div className=\"ModalCard__icon\">{icon}</div>}\n            {title && <div className=\"ModalCard__title\">{title}</div>}\n            {caption && <div className=\"ModalCard__caption\">{caption}</div>}\n\n            {children}\n\n            {actions.length > 0 &&\n            <div className={classNames('ModalCard__actions', {\n              'ModalCard__actions--v': actionsLayout === 'vertical'\n            })}>\n              {actions.map(({ title, type }, i) => (\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  level={type}\n                  onClick={this.onButtonClick}\n                >\n                  {title}\n                </Button>\n              ))}\n            </div>\n            }\n\n            {IS_PLATFORM_IOS &&\n            <HeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n              <Icon24Dismiss />\n            </HeaderButton>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(ModalCard);\n"],"file":"ModalCard.js"}