{"version":3,"sources":["../../../../src/components/UsersStack/UsersStack.js"],"names":["React","PropTypes","getClassName","classNames","canUseDOM","masksCreated","createMasks","svgElement","document","createElementNS","setAttributeNS","style","position","width","height","innerHTML","body","appendChild","baseClassName","UsersStack","props","className","photos","count","size","vertical","children","restProps","othersCount","Math","max","length","canShowOthers","photosShown","slice","map","photo","i","backgroundImage","propTypes","arrayOf","string","oneOf","bool","number","node","object","defaultProps","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { canUseDOM } from '../../lib/dom';\n\nlet masksCreated = false;\n\nfunction createMasks () {\n  if (!canUseDOM || masksCreated) return;\n\n  const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgElement.setAttributeNS(null, 'id', '__SVG_MASKS_NODE__');\n  svgElement.setAttributeNS(null, 'width', 0);\n  svgElement.setAttributeNS(null, 'height', 0);\n  svgElement.style.position = 'absolute';\n  svgElement.style.width = 0;\n  svgElement.style.height = 0;\n\n  svgElement.innerHTML = `<defs>\n  <clipPath id=\"users_stack_mask_24_left\">\n    <path d=\"M3.9971785,12 C3.9971785,9.49005736 3.33667467,7.13438366 2.18,5.09731189 C4.35181237,2.01417617 7.93927741,0 11.9971785,0 C18.6245955,0 23.9971785,5.372583 23.9971785,12 C23.9971785,18.627417 18.6245955,24 11.9971785,24 C7.93927741,24 4.35181237,21.9858238 2.18,18.9026881 C3.33667467,16.8656163 3.9971785,14.5099426 3.9971785,12 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_24_right\">\n    <path d=\"M21.8171785,5.09731189 C20.6605038,7.13438366 20,9.49005736 20,12 C20,14.5099426 20.6605038,16.8656163 21.8171785,18.9026881 C19.6453661,21.9858238 16.0579011,24 12,24 C5.372583,24 3.90798505e-14,18.627417 3.90798505e-14,12 C3.90798505e-14,5.372583 5.372583,0 12,0 C16.0579011,0 19.6453661,2.01417617 21.8171785,5.09731189 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_left\">\n    <path d=\"M2.13430019,23.9892466 C3.32858917,21.5820026 4,18.8694095 4,16 C4,13.1305905 3.32858917,10.4179974 2.13430019,8.0107534 C4.89924175,3.22241289 10.0733034,-2.30926389e-14 16,-2.30926389e-14 C24.836556,-2.30926389e-14 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C10.0733034,32 4.89924175,28.7775871 2.13430019,23.9892466 L2.13430019,23.9892466 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_right\">\n    <path d=\"M29.8656998,8.0107534 C28.6714108,10.4179974 28,13.1305905 28,16 C28,18.8694095 28.6714108,21.5820026 29.8656998,23.9892466 C27.1007583,28.7775871 21.9266966,32 16,32 C7.163444,32 3.90798505e-14,24.836556 3.90798505e-14,16 C3.90798505e-14,7.163444 7.163444,0 16,0 C21.9266966,0 27.1007583,3.22241289 29.8656998,8.0107534 Z\"></path>\n  </clipPath>\n</defs>`;\n\n  document.body.appendChild(svgElement);\n  masksCreated = true;\n}\n\ncreateMasks();\n\nconst baseClassName = getClassName('UsersStack');\n\nfunction UsersStack (props) {\n  const { className, photos, count, size, vertical, children, ...restProps } = props;\n\n  const othersCount = Math.max(0, photos.length - count);\n  const canShowOthers = othersCount > 0 && size === 'm';\n\n  const photosShown = photos.slice(0, count);\n\n  return (\n    <div {...restProps} className={classNames(baseClassName, className, 'UsersStack--size-' + size, {\n      'UsersStack--with-others': canShowOthers,\n      'UsersStack--v': vertical\n    })}>\n      <div className=\"UsersStack__photos\">\n        {photosShown.map((photo, i) => (\n          <div\n            key={i}\n            className=\"UsersStack__photo\"\n            style={{ backgroundImage: `url(${photo})` }}\n          />\n        ))}\n\n        {canShowOthers &&\n        <div className=\"UsersStack__photo UsersStack__photo--others\">\n          {`+${othersCount}`}\n        </div>}\n      </div>\n      <div className=\"UsersStack__text\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nUsersStack.propTypes = {\n  /**\n   * Массив ссылок на фотографии\n   */\n  photos: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Размер аватарок\n   */\n  size: PropTypes.oneOf(['s', 'm']),\n\n  /**\n   * Вертикальный режим. Рекомендуется использовать с размером `m`\n   */\n  vertical: PropTypes.bool,\n\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  count: PropTypes.number,\n\n  /**\n   * Текст, например, `Иван и ещё 2 ваших друга подписаны`\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nUsersStack.defaultProps = {\n  photos: [],\n  size: 's',\n  count: 3\n};\n\nexport default React.memo(UsersStack);\n"],"file":"UsersStack.js"}