{"version":3,"sources":["../../../src/components/ConfigProvider/ConfigProvider.js"],"names":["ConfigProvider","props","context","document","window","body","setAttribute","scheme","prevProps","isWebView","webviewType","app","children","React","Component","PropTypes","bool","string","oneOf","node","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;IAEqBA,c;;;;;AACnB,0BAAaC,KAAb,EAAoBC,OAApB,EAA6B;AAAA;;AAAA;AAC3B,oHAAMD,KAAN;AAEA,KAACC,OAAO,CAACC,QAAR,IAAoBC,MAAM,CAACD,QAA5B,EAAsCE,IAAtC,CAA2CC,YAA3C,CAAwD,QAAxD,EAAkEL,KAAK,CAACM,MAAxE;AAH2B;AAI5B;;;;uCA+BmBC,S,EAAW;AAC7B,UAAIA,SAAS,CAACD,MAAV,KAAqB,KAAKN,KAAL,CAAWM,MAApC,EAA4C;AAC1C,aAAKJ,QAAL,CAAcE,IAAd,CAAmBC,YAAnB,CAAgC,QAAhC,EAA0C,KAAKL,KAAL,CAAWM,MAArD;AACD;AACF;;;sCAEkB;AACjB,aAAO;AACLE,QAAAA,SAAS,EAAE,KAAKR,KAAL,CAAWQ,SADjB;AAELC,QAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWS,WAFnB;AAGLH,QAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM,MAHd;AAILI,QAAAA,GAAG,EAAE,KAAKV,KAAL,CAAWU;AAJX,OAAP;AAMD;;;6BAES;AACR,aAAO,KAAKV,KAAL,CAAWW,QAAlB;AACD;;;wBArBe;AACd,aAAO,KAAKV,OAAL,CAAaC,QAAb,IAAyBC,MAAM,CAACD,QAAvC;AACD;;;EAlCyCU,eAAMC,S;;;8BAA7Bd,c,uBAOQ;AACzBS,EAAAA,SAAS,EAAEM,mBAAUC,IADI;AAEzBT,EAAAA,MAAM,EAAEQ,mBAAUE,MAFO;AAGzBP,EAAAA,WAAW,EAAEK,mBAAUG,KAAV,CAAgB,CAAC,QAAD,EAAW,UAAX,CAAhB,CAHY;AAIzBP,EAAAA,GAAG,EAAEI,mBAAUE;AAJU,C;8BAPRjB,c,eAcA;AACjBO,EAAAA,MAAM,EAAEQ,mBAAUE,MADD;AAEjBR,EAAAA,SAAS,EAAEM,mBAAUC,IAFJ;AAGjBN,EAAAA,WAAW,EAAEK,mBAAUG,KAAV,CAAgB,CAAC,QAAD,EAAW,UAAX,CAAhB,CAHI;AAIjBP,EAAAA,GAAG,EAAEI,mBAAUE,MAJE;AAKjBL,EAAAA,QAAQ,EAAEG,mBAAUI;AALH,C;8BAdAnB,c,kBAsBG;AACpBU,EAAAA,WAAW,EAAE,UADO;AAEpBD,EAAAA,SAAS,EAATA,kBAFoB;AAGpBF,EAAAA,MAAM,EAAE;AAHY,C;8BAtBHP,c,kBA4BG;AACpBG,EAAAA,QAAQ,EAAEY,mBAAUK;AADA,C","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isWebView } from '../../lib/webview';\n\nexport default class ConfigProvider extends React.Component {\n  constructor (props, context) {\n    super(props);\n\n    (context.document || window.document).body.setAttribute('scheme', props.scheme);\n  }\n\n  static childContextTypes = {\n    isWebView: PropTypes.bool,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string\n  };\n\n  static propTypes = {\n    scheme: PropTypes.string,\n    isWebView: PropTypes.bool,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    webviewType: 'internal',\n    isWebView,\n    scheme: 'client_light'\n  };\n\n  static contextTypes = {\n    document: PropTypes.object\n  };\n\n  get document () {\n    return this.context.document || window.document;\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.scheme !== this.props.scheme) {\n      this.document.body.setAttribute('scheme', this.props.scheme);\n    }\n  }\n\n  getChildContext () {\n    return {\n      isWebView: this.props.isWebView,\n      webviewType: this.props.webviewType,\n      scheme: this.props.scheme,\n      app: this.props.app\n    };\n  }\n\n  render () {\n    return this.props.children;\n  }\n}\n"],"file":"ConfigProvider.js"}